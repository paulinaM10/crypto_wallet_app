<!DOCTYPE html>
<html>
<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>T2 Crypto - Buy & Sell Digital Assets</title>

  <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

    <style>
    #UserTitle {
        font-size: 50px;
        font-weight: bold; 
       color: #007bff; 
        margin-bottom: 100px; 
    }
    
.form-heading {
    margin-bottom: 20px;
}
.form-group {
    margin-bottom: 15px;
}


form label {
    font-size: 16px;
}


form input[type="text"],
form input[type="email"] {
    padding: 8px;
    
}

form input[type="submit"] {
    font-size: 18px;
    padding: 10px 20px;
    
}

form input[type="submit"].btn-danger {
    background-color: #dc3545;
    color: #fff;
    border: none;
    padding: 10px 28px;
     
}

form input[type="submit"].btn-danger {
    border-radius: 10px;
}

form {
    margin-top: 20px;
}

#deleteUserAccountButton {
    background-color: #6c757d;
    color: #fff;
    padding: 10px 30px;
    border: none;
    border-radius: 10px;
    margin-top: 20px;
    display: inline-block;
    width: 150px;
    position: absolute;
    top: 50px;
    right: 400px;
    text-align:center;
     display: inline-block; 
}

    
    </style>
    <body>
  <header class="header" data-header>
    <div class="container">

      <a href="#" class="logo">
        <img src="crypto-logo.png" width="32" height="32" alt="Cryptex logo">
       T2 Crypto

      </a>

      <nav class="navbar" data-navbar>
        <ul class="navbar-list">

          <li class="navbar-item">

           

            <a href="HomePage.html" class="navbar-link active" data-nav-link>Homepage</a>
          </li>
        
          <li class="navbar-item">
            <a href="account.html" class="navbar-link" data-nav-link>My Account</a>
          </li>

         <li class="navbar-item">
            <a href="mainwalletpage.html" class="navbar-link" data-nav-link>Wallet</a>
          </li>
          
           <li class="navbar-item">
            <a href="explore_coins.html" class="navbar-link" data-nav-link>Explore Coins</a>
          </li>
          
           <li class="navbar-item">
            <a href="TransactionsPage.html" class="navbar-link" data-nav-link>My Transactions</a>
          </li>

        </ul>
      </nav>
      </div>
      </header>

<main>
    <article>
    
    <section class="section hero" >
<div class="container" style="padding: 20px;">
    <div id="headers">
    <h2 id="UserTitle">User Account Management</h2>
    </div>

    <form id="updateUserDetailsForm">
     <h3 class="form-heading">Update User Details</h3>
        <div class="form-group">

        <label for="fullName">Full Name:</label><br>
        <input type="text" id="fullName" name="fullName" required><br>
         </div>
         <div class="form-group">
        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email" required><br>
         </div>
         <div class="form-group">
        <label for="bankDetails">Bank Details :</label><br>
        <input type="text" id="bankDetails" name="bankDetails" required><br>

</div>
        <input type="submit" value="Update Details" class="btn btn-danger">
</form>
  
<br>
   <button id="deleteUserAccountButton">Delete Account</button>
</div>
</section>
</article>
</main>

    <script>
        function updateUserDetails(e) {
            e.preventDefault();

            var updatedUser = {
                fullName: $("#fullName").val(),
                email: $("#email").val(),
                bankDetails: $("#bankDetails").val(),
            };

            $.ajax({
                type: "PUT",
                url: "/users/update",
                data: JSON.stringify(updatedUser),
                contentType: "application/json",
                success: function(data) {
                    alert("User details updated successfully.");
                },
                error: function() {
                    alert("Failed to update user details. Please try again.");
                }
            });
        }

        function deleteUserAccount() {
            if (confirm("Are you sure you want to delete your account? This cannot be undone.")) {
                $.ajax({
                    type: "DELETE",
                    url: "/users/delete",
                    success: function() {
                        alert("Account deleted successfully.");
                        window.location.href = 'SignUp.html'; 

                    },
                    error: function() {
                        alert("Failed to delete account. Please try again.");
                    }
                });
            }
        }

        $("#updateUserDetailsForm").submit(updateUserDetails);
        $("#deleteUserAccountButton").click(deleteUserAccount);
    </script>
    

      <footer class="footer">

    <div class="footer-bottom">
      <div class="container">

        <p class="copyright">
          &copy; 2022 T2 Crypto All Rights Reserved by <a href="#" class="copyright-link">Team Two</a>
        </p>

        <ul class="social-list">

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-facebook"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-twitter"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-instagram"></ion-icon>
            </a>
          </li>

          <li>
            <a href="#" class="social-link">
              <ion-icon name="logo-linkedin"></ion-icon>
            </a>
          </li>

        </ul>


      </div>
    </div>

  </footer>


  <script src="script.js" defer></script>

  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    
</body>

